!function(i){i.fn.dimmr=function(n){var t=!1,o=i.extend({animationSpeed:600,opacity:.8,zIndex:1},n),e=i(this);return i("body:first").append('<span id="dimmr"></span>'),i("#dimmr").css({position:"fixed",background:"#000000",opacity:0,left:0,right:0,top:0,bottom:0,"z-index":o.zIndex}),i(window).on("scroll",function(){var n=i(window).scrollTop(),a=e.offset().top,d=a-n,m=Math.max(document.documentElement.clientHeight,window.innerHeight||0);d>m/2?t&&(i("#dimmr").stop().animate({opacity:0},o.animationSpeed),t=!1):t||(i("#dimmr").stop().animate({opacity:o.opacity},o.animationSpeed),t=!0)}),this}}(jQuery);